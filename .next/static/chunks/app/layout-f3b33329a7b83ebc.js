(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[185],{9565:function(e,t,r){Promise.resolve().then(r.t.bind(r,1034,23)),Promise.resolve().then(r.bind(r,8726)),Promise.resolve().then(r.t.bind(r,3054,23)),Promise.resolve().then(r.bind(r,698)),Promise.resolve().then(r.bind(r,3998))},698:function(e,t,r){"use strict";r.d(t,{default:function(){return o}});var s=r(7437),i=r(3998),n=r(7138),a=r(6463),u=r(8726);function o(){let{user:e,loading:t,signOut:r}=(0,i.a)(),o=(0,a.useRouter)(),l=async()=>{try{await r(),u.ZP.success("Signed out successfully"),o.push("/")}catch(e){console.error("Sign out error:",e),u.ZP.error("Failed to sign out")}};return t?null:(0,s.jsx)("nav",{className:"bg-white shadow",children:(0,s.jsx)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:(0,s.jsxs)("div",{className:"flex justify-between h-16",children:[(0,s.jsx)("div",{className:"flex items-center",children:(0,s.jsx)(n.default,{href:"/",className:"text-xl font-bold text-blue-600",children:"Roadmap Generator"})}),(0,s.jsx)("div",{className:"flex items-center",children:e?(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(n.default,{href:"/dashboard",className:"mx-4 text-gray-700 hover:text-blue-600 px-3 py-2 rounded-md text-sm font-medium",children:"Dashboard"}),(0,s.jsx)("button",{onClick:l,className:"text-gray-700 hover:text-blue-600 px-3 py-2 rounded-md text-sm font-medium",children:"Sign out"})]}):(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(n.default,{href:"/login",className:"mx-4 text-gray-700 hover:text-blue-600 px-3 py-2 rounded-md text-sm font-medium",children:"Log in"}),(0,s.jsx)(n.default,{href:"/signup",className:"text-white bg-blue-600 hover:bg-blue-700 px-3 py-2 rounded-md text-sm font-medium",children:"Sign up"})]})})]})})})}},4316:function(e,t,r){"use strict";r.d(t,{O:function(){return s}});let s=(0,r(7327).eI)("https://itzecympleovransjovy.supabase.co","eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Iml0emVjeW1wbGVvdnJhbnNqb3Z5Iiwicm9sZSI6ImFub24iLCJpYXQiOjE3NjcwODE2NjAsImV4cCI6MjA4MjY1NzY2MH0.gbpHNxaI67Xi7bMYpyNXqbapcB9z32ckKDlyZXM9CnA")},3998:function(e,t,r){"use strict";r.d(t,{AuthProvider:function(){return o},a:function(){return l}});var s=r(7437),i=r(2265),n=r(4316),a=r(6463);let u=(0,i.createContext)(void 0);function o(e){let{children:t}=e,[r,o]=(0,i.useState)(null),[l,d]=(0,i.useState)(!0),c=(0,a.useRouter)();(0,i.useEffect)(()=>{(async()=>{let{data:{session:e}}=await n.O.auth.getSession();if(null==e?void 0:e.user){let{data:t}=await n.O.from("users").select("id").eq("id",e.user.id).single();if(!t){let{error:t}=await n.O.from("users").insert([{id:e.user.id,email:e.user.email}]);t&&console.error("Error inserting user:",t)}}o((null==e?void 0:e.user)||null),d(!1);let{data:{subscription:t}}=await n.O.auth.onAuthStateChange(async(e,t)=>{if((null==t?void 0:t.user)&&"SIGNED_IN"===e){let{data:e}=await n.O.from("users").select("id").eq("id",t.user.id).single();if(!e){let{error:e}=await n.O.from("users").insert([{id:t.user.id,email:t.user.email}]);e&&console.error("Error inserting user:",e)}}o((null==t?void 0:t.user)||null),d(!1),"SIGNED_OUT"===e&&c.push("/")});return()=>{t.unsubscribe()}})()},[c]);let m=async(e,t)=>{let{data:r,error:s}=await n.O.auth.signUp({email:e,password:t,options:{emailRedirectTo:"".concat(window.location.origin,"/dashboard")}});if(s)throw s;if(r.user){let{error:e}=await n.O.from("users").insert([{id:r.user.id,email:r.user.email}]);e&&console.error("Error inserting user:",e)}return r},f=async(e,t)=>{let{data:r,error:s}=await n.O.auth.signInWithPassword({email:e,password:t});if(s)throw s;return r},h=async()=>{let{error:e}=await n.O.auth.signOut();if(e)throw e};return(0,s.jsx)(u.Provider,{value:{user:r,loading:l,signUp:m,signIn:f,signOut:h},children:t})}function l(){let e=(0,i.useContext)(u);if(void 0===e)throw Error("useUser must be used within an AuthProvider");return e}},3054:function(){},1034:function(e){e.exports={style:{fontFamily:"'__Inter_f367f3', '__Inter_Fallback_f367f3'",fontStyle:"normal"},className:"__className_f367f3"}}},function(e){e.O(0,[6,705,4,971,23,744],function(){return e(e.s=9565)}),_N_E=e.O()}]);